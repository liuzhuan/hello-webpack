# 热更新

热更新可以在应用运行时替换、增加或删除模块，无须重载页面。这样可以极大提高开发速度，具体表现在以下几点：

- 重载页面会导致应用状态丢失
- 只更新改变的部分可以提升宝贵的开发时间
- 更快的样式调整速度，几乎可以与浏览器的 debugger 相媲美

## 工作原理

我们从几个不同角度来理解 HMR 是如何工作的...

### 从应用的角度看

以下步骤允许模块子在应用中换入换出：

1. 应用向 HMR 运行时请求更新内容
2. 运行时异步下载更新后，通知应用
3. 应用请求运行时安装更新
4. 运行时同步安装更新

你可以设置 HMR 让这个过程自动化，也可以在更新发生前加入用户交互。

### 从编译器的角度看

除了普通素材外，编译器需要抛出 `update` 事件，将旧版本更新为新版本。`update` 包含两个部分：

1. 更新的 manifest (JSON)
2. 一个或多个更新的代码块（JavaScript）

未完待续

## 参考资料

- [Hot Module Replacement](https://webpack.js.org/concepts/hot-module-replacement/) - webpack.js.org